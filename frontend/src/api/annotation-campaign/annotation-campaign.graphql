query listCampaigns(
    $isArchived: Boolean
    $phase: AnnotationPhaseType
    $ownerID: ID
    $annotatorID: ID
    $search: String
) {
    allAnnotationCampaigns(
        isArchived: $isArchived
        phases_Phase: $phase
        ownerId: $ownerID
        phases_AnnotationFileRanges_AnnotatorId: $annotatorID
        search: $search

        orderBy: "name"
    ) {
        results {
            id
            name
            deadline
            isArchived
            datasetName
            phaseTypes
            tasksCount
            completedTasksCount
            userTasksCount
            userCompletedTasksCount
        }
    }
}

query getCampaign($id: ID!) {
    annotationCampaignById(id: $id) {
        id
        name
        createdAt
        instructionsUrl
        deadline
        isArchived
        canManage
        allowPointAnnotation
        allowColormapTuning
        allowImageTuning
        colormapDefault
        colormapInvertedDefault
        dataset {
            id
            name
        }
        labelSet {
            name
            description
            labels {
                name
            }
        }
        labelsWithAcousticFeatures {
            id
            name
        }
        owner {
            id
            displayName
            email
        }
        description
        archive {
            date
            byUser {
                displayName
            }
        }
        confidenceSet {
            name
            desc
            confidenceIndicators {
                label
            }
        }
        detectors {
            id
            name
        }
        annotators {
            id
            displayName
        }
        analysis {
            edges {
                node {
                    id
                    name
                    colormap {
                        name
                    }
                    fft {
                        nfft
                        windowSize
                        overlap
                        samplingFrequency
                    }
                    legacyConfiguration {
                        scaleName
                        zoomLevel
                        linearFrequencyScale {
                            ratio
                            minValue
                            maxValue
                        }
                        multiLinearFrequencyScale {
                            innerScales {
                                ratio
                                minValue
                                maxValue
                            }
                        }
                    }
                    legacy
                }
            }
        }
        spectrogramsCount
        phases {
            id
            phase
            isOpen
            tasksCount
            completedTasksCount
        }
    }
}

mutation createCampaign(
    $name: String!
    $description: String
    $instructionsUrl: String
    $deadline: Date
    $allowImageTuning: Boolean
    $allowColormapTuning: Boolean
    $colormapDefault: String
    $colormapInvertedDefault: Boolean
    $datasetID: ID!
    $analysisIDs: [ID]!
) {
    createAnnotationCampaign(input: {
        name: $name
        description: $description
        instructionsUrl: $instructionsUrl
        deadline: $deadline
        allowImageTuning: $allowImageTuning
        allowColormapTuning: $allowColormapTuning
        colormapDefault: $colormapDefault
        colormapInvertedDefault: $colormapInvertedDefault
        dataset: $datasetID
        analysis: $analysisIDs
    }) {
        annotationCampaign {
            id
        }
        errors {
            field
            messages
        }
    }
}

mutation archiveCampaign($id: ID!) {
    archiveAnnotationCampaign(id: $id) {
        ok
    }
}

mutation updateCampaignFeaturedLabels(
    $id: ID!
    $labelsWithAcousticFeatures: [ID]!
) {
    updateAnnotationCampaign(input: {
        id: $id
        labelsWithAcousticFeatures: $labelsWithAcousticFeatures
    }) {
        errors {
            field
            messages
        }
    }
}
